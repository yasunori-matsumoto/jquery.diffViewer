/*
 * jQuery DiffViewer - show image diff
 * (c) CATERS https://www.caters.co.jp/
 * <matsumoto@caters.co.jp>
 * MIT Licensed.
 */
!function(t){t.fn.diffViewer=function(e){function i(e){o(e),t(window).bind("mousemove",o),t(window).bind("mouseup",n)}function o(t){u=-(t.pageX-r.offset().left-a)/a,u=Math.max(0,u),u=Math.min(1,u),s.css({width:100*u+"%"}),d&&d.css({left:100-100*u+"%"})}function n(e){t(window).unbind("mousemove",o),t(window).unbind("mouseup",n)}var r,f,s,d,a,u;return e=t.extend({before:".before",after:".after",separator:".separator"},e),this.each(function(){r=t(this),a=r.width(),f=r.find(e.before),s=r.find(e.after),d=r.find(e.separator),f.css({position:"absolute",left:0,top:0,width:"100%",height:"100%",background:"url("+f.find("img").attr("src")+") no-repeat top left"}).find("img").remove(),s.css({position:"absolute",right:0,top:0,width:"50%",height:"100%",background:"url("+s.find("img").attr("src")+") no-repeat top right"}).find("img").remove(),d&&d.css({position:"absolute",left:"50%",top:"0px"}),r.bind("mousedown",i)})}}(jQuery);